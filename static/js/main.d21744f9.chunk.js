(this.webpackJsonpsuperchat=this.webpackJsonpsuperchat||[]).push([[0],{27:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c.n(a),r=c(15),i=c.n(r),s=c(14),o=c.n(s),b=c(16),d=c(11),j=(c(27),c(17)),u=Object(j.a)();var _=function(){console.log(u.os.name);var e="android"===u.os.name;u.os.name,e&&(console.log(1),window.location.href="intent:park-siwan.github.io/react-firebase-chatting#Intent;scheme=http;package=com.android.chrome;end")},O=c(10),h=(c(34),c(29),c(21)),l=c(20),p=c(18),A=c(19),E=c(4);O.a.initializeApp({apiKey:"AIzaSyBK5D-GJFlU-8SOihl_Hb74BdJ2zMmobGs",authDomain:"chatting-6caa2.firebaseapp.com",projectId:"chatting-6caa2",storageBucket:"chatting-6caa2.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-firebase-chatting",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBK5D-GJFlU-8SOihl_Hb74BdJ2zMmobGs",REACT_APP_AUTH_DOMAIN:"chatting-6caa2.firebaseapp.com",REACT_APP_PROJECT_ID:"chatting-6caa2",REACT_APP_STORAGE_BUCKET:"chatting-6caa2.appspot.com",REACT_APP_MESSAGING_ID:"544759178297",REACT_APP_APP_ID:"1:544759178297:web:67cb0e2dfbccadaf4a19e8",REACT_APP_MEASUREMENT_ID:"G-1JQ9L2Y51F"}).MESSAGING_ID,appId:"1:544759178297:web:67cb0e2dfbccadaf4a19e8",measurementId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-firebase-chatting",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBK5D-GJFlU-8SOihl_Hb74BdJ2zMmobGs",REACT_APP_AUTH_DOMAIN:"chatting-6caa2.firebaseapp.com",REACT_APP_PROJECT_ID:"chatting-6caa2",REACT_APP_STORAGE_BUCKET:"chatting-6caa2.appspot.com",REACT_APP_MESSAGING_ID:"544759178297",REACT_APP_APP_ID:"1:544759178297:web:67cb0e2dfbccadaf4a19e8",REACT_APP_MEASUREMENT_ID:"G-1JQ9L2Y51F"}).MEASUREMENT_ID});var m=O.a.auth(),P=O.a.firestore();function T(){_();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("button",{className:"sign-in",onClick:function(){var e=new O.a.auth.GoogleAuthProvider;m.signInWithPopup(e)},children:[Object(E.jsx)(l.a,{}),Object(E.jsx)("span",{children:" "}),Object(E.jsx)("span",{children:Object(E.jsx)("b",{children:"\uad6c\uae00\ub85c \ub85c\uadf8\uc778\ud558\uae30"})})]}),Object(E.jsxs)("span",{className:"notice",children:["\ud83d\ude40 \uc544\uc774\ud3f0(ios)\uc740 safari, chrome ",Object(E.jsx)("br",{}),"\ub4f1\uc73c\ub85c \ub85c\uadf8\uc778 \ud574\uc8fc\uc138\uc694. \ud83d\ude4f"]})]})}function S(){return m.currentUser&&Object(E.jsx)("button",{className:"sign-out",onClick:function(){return m.signOut()},children:Object(E.jsx)("b",{children:"\ub85c\uadf8\uc544\uc6c3"})})}function f(){var e=Object(a.useRef)(),t=P.collection("messages"),c=t.orderBy("createdAt").limit(500),n=Object(A.a)(c,{idFiled:"id"}),r=Object(d.a)(n,1)[0],i=Object(a.useState)(""),s=Object(d.a)(i,2),j=s[0],u=s[1],_=function(){var c=Object(b.a)(o.a.mark((function c(a){var n,r,i;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),n=m.currentUser,r=n.uid,i=n.photoURL,c.next=4,t.add({text:j,createdAt:O.a.firestore.FieldValue.serverTimestamp(),uid:r,photoURL:i});case 4:u(""),e.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("main",{children:[r&&r.map((function(e){return Object(E.jsx)(g,{message:e},e.id)})),Object(E.jsx)("span",{ref:e})]}),Object(E.jsxs)("form",{onSubmit:_,children:[Object(E.jsx)("input",{value:j,onChange:function(e){return u(e.target.value)},placeholder:""}),Object(E.jsx)("button",{type:"submit",disabled:!j,children:Object(E.jsx)(h.a,{})})]})]})}function g(e){var t=e.message,c=t.text,a=t.uid,n=t.photoURL,r=a===m.currentUser.uid?"sent":"received";return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"message ".concat(r),children:[Object(E.jsx)("img",{src:n}),Object(E.jsx)("p",{children:c})]})})}var x=function(){var e=Object(p.a)(m),t=Object(d.a)(e,1)[0];return Object(E.jsxs)("div",{className:"App",children:[Object(E.jsxs)("header",{children:[Object(E.jsx)("h4",{children:" \ud83d\ude4f \uc18c\uc6d0\uc744 \ube4c\uc5b4\uc8fc\uc138\uc694"}),Object(E.jsx)(S,{})]}),Object(E.jsx)("section",{children:t?Object(E.jsx)(f,{}):Object(E.jsx)(T,{})})]})};c(32);i.a.render(Object(E.jsx)(n.a.StrictMode,{children:Object(E.jsx)(x,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.d21744f9.chunk.js.map