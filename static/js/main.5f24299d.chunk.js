(this.webpackJsonpsuperchat=this.webpackJsonpsuperchat||[]).push([[0],{27:function(e,t,c){},32:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c.n(a),r=c(15),i=c.n(r),s=c(14),o=c.n(s),b=c(16),d=c(11),j=(c(27),c(10)),u=(c(35),c(29),c(33),c(21)),_=c(20),O=c(18),A=c(19),h=c(5);j.a.initializeApp({apiKey:"AIzaSyBK5D-GJFlU-8SOihl_Hb74BdJ2zMmobGs",authDomain:"chatting-6caa2.firebaseapp.com",projectId:"chatting-6caa2",storageBucket:"chatting-6caa2.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-firebase-chatting",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBK5D-GJFlU-8SOihl_Hb74BdJ2zMmobGs",REACT_APP_AUTH_DOMAIN:"chatting-6caa2.firebaseapp.com",REACT_APP_PROJECT_ID:"chatting-6caa2",REACT_APP_STORAGE_BUCKET:"chatting-6caa2.appspot.com",REACT_APP_MESSAGING_ID:"544759178297",REACT_APP_APP_ID:"1:544759178297:web:67cb0e2dfbccadaf4a19e8",REACT_APP_MEASUREMENT_ID:"G-1JQ9L2Y51F"}).MESSAGING_ID,appId:"1:544759178297:web:67cb0e2dfbccadaf4a19e8",measurementId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-firebase-chatting",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBK5D-GJFlU-8SOihl_Hb74BdJ2zMmobGs",REACT_APP_AUTH_DOMAIN:"chatting-6caa2.firebaseapp.com",REACT_APP_PROJECT_ID:"chatting-6caa2",REACT_APP_STORAGE_BUCKET:"chatting-6caa2.appspot.com",REACT_APP_MESSAGING_ID:"544759178297",REACT_APP_APP_ID:"1:544759178297:web:67cb0e2dfbccadaf4a19e8",REACT_APP_MEASUREMENT_ID:"G-1JQ9L2Y51F"}).MEASUREMENT_ID});var p=j.a.auth(),E=j.a.firestore();j.a.analytics();function l(){return Object(h.jsxs)("button",{className:"sign-in",onClick:function(){var e=new j.a.auth.GoogleAuthProvider;p.signInWithPopup(e)},children:[Object(h.jsx)(_.a,{}),Object(h.jsx)("span",{children:" "}),Object(h.jsx)("span",{children:Object(h.jsx)("b",{children:"\uad6c\uae00\ub85c \ub85c\uadf8\uc778\ud558\uae30"})})]})}function P(){return p.currentUser&&Object(h.jsx)("button",{className:"sign-out",onClick:function(){return p.signOut()},children:"\ub85c\uadf8\uc544\uc6c3"})}function T(){var e=Object(a.useRef)(),t=E.collection("messages"),c=t.orderBy("createdAt").limit(500),n=Object(A.a)(c,{idFiled:"id"}),r=Object(d.a)(n,1)[0],i=Object(a.useState)(""),s=Object(d.a)(i,2),_=s[0],O=s[1],l=function(){var c=Object(b.a)(o.a.mark((function c(a){var n,r,i;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),n=p.currentUser,r=n.uid,i=n.photoURL,c.next=4,t.add({text:_,createdAt:j.a.firestore.FieldValue.serverTimestamp(),uid:r,photoURL:i});case 4:O(""),e.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("main",{children:[r&&r.map((function(e){return Object(h.jsx)(S,{message:e},e.id)})),Object(h.jsx)("span",{ref:e})]}),Object(h.jsxs)("form",{onSubmit:l,children:[Object(h.jsx)("input",{value:_,onChange:function(e){return O(e.target.value)},placeholder:""}),Object(h.jsx)("button",{type:"submit",disabled:!_,children:Object(h.jsx)(u.a,{})})]})]})}function S(e){var t=e.message,c=t.text,a=t.uid,n=t.photoURL,r=a===p.currentUser.uid?"sent":"received";return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"message ".concat(r),children:[Object(h.jsx)("img",{src:n}),Object(h.jsx)("p",{children:c})]})})}var m=function(){var e=Object(O.a)(p),t=Object(d.a)(e,1)[0];return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("header",{children:[Object(h.jsx)("h4",{children:" \u2b50 \uc18c\uc6d0\uc744 \ube4c\uc5b4\uc8fc\uc138\uc694"}),Object(h.jsx)(P,{})]}),Object(h.jsx)("section",{children:t?Object(h.jsx)(T,{}):Object(h.jsx)(l,{})})]})};c(32);i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(m,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.5f24299d.chunk.js.map