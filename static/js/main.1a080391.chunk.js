(this.webpackJsonpsuperchat=this.webpackJsonpsuperchat||[]).push([[0],{27:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c.n(a),i=c(15),r=c.n(i),s=c(14),o=c.n(s),d=c(16),b=c(11),u=(c(27),c(17)),j=Object(u.a)();var _=function(){console.log(j.os.name);var e="android"===j.os.name,t="ios"===j.os.name;e?(console.log(1),window.location.href="intent:https://park-siwan.github.io/react-firebase-chatting#Intent;scheme=http;package=com.android.chrome;end"):t&&(console.log(2),window.open("https://park-siwan.github.io/react-firebase-chatting","_self"))},h=c(10),O=(c(34),c(29),c(21)),p=c(20),A=c(18),l=c(19),E=c(4);h.a.initializeApp({apiKey:"AIzaSyBK5D-GJFlU-8SOihl_Hb74BdJ2zMmobGs",authDomain:"chatting-6caa2.firebaseapp.com",projectId:"chatting-6caa2",storageBucket:"chatting-6caa2.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-firebase-chatting",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBK5D-GJFlU-8SOihl_Hb74BdJ2zMmobGs",REACT_APP_AUTH_DOMAIN:"chatting-6caa2.firebaseapp.com",REACT_APP_PROJECT_ID:"chatting-6caa2",REACT_APP_STORAGE_BUCKET:"chatting-6caa2.appspot.com",REACT_APP_MESSAGING_ID:"544759178297",REACT_APP_APP_ID:"1:544759178297:web:67cb0e2dfbccadaf4a19e8",REACT_APP_MEASUREMENT_ID:"G-1JQ9L2Y51F"}).MESSAGING_ID,appId:"1:544759178297:web:67cb0e2dfbccadaf4a19e8",measurementId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-firebase-chatting",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBK5D-GJFlU-8SOihl_Hb74BdJ2zMmobGs",REACT_APP_AUTH_DOMAIN:"chatting-6caa2.firebaseapp.com",REACT_APP_PROJECT_ID:"chatting-6caa2",REACT_APP_STORAGE_BUCKET:"chatting-6caa2.appspot.com",REACT_APP_MESSAGING_ID:"544759178297",REACT_APP_APP_ID:"1:544759178297:web:67cb0e2dfbccadaf4a19e8",REACT_APP_MEASUREMENT_ID:"G-1JQ9L2Y51F"}).MEASUREMENT_ID});var P=h.a.auth(),m=h.a.firestore();function T(){_();return Object(E.jsxs)("button",{className:"sign-in",onClick:function(){var e=new h.a.auth.GoogleAuthProvider;P.signInWithPopup(e)},children:[Object(E.jsx)(p.a,{}),Object(E.jsx)("span",{children:" "}),Object(E.jsx)("span",{children:Object(E.jsx)("b",{children:"\uad6c\uae00\ub85c \ub85c\uadf8\uc778\ud558\uae30"})})]})}function f(){return P.currentUser&&Object(E.jsx)("button",{className:"sign-out",onClick:function(){return P.signOut()},children:"\ub85c\uadf8\uc544\uc6c3"})}function S(){var e=Object(a.useRef)(),t=m.collection("messages"),c=t.orderBy("createdAt").limit(500),n=Object(l.a)(c,{idFiled:"id"}),i=Object(b.a)(n,1)[0],r=Object(a.useState)(""),s=Object(b.a)(r,2),u=s[0],j=s[1],_=function(){var c=Object(d.a)(o.a.mark((function c(a){var n,i,r;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),n=P.currentUser,i=n.uid,r=n.photoURL,c.next=4,t.add({text:u,createdAt:h.a.firestore.FieldValue.serverTimestamp(),uid:i,photoURL:r});case 4:j(""),e.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("main",{children:[i&&i.map((function(e){return Object(E.jsx)(g,{message:e},e.id)})),Object(E.jsx)("span",{ref:e})]}),Object(E.jsxs)("form",{onSubmit:_,children:[Object(E.jsx)("input",{value:u,onChange:function(e){return j(e.target.value)},placeholder:""}),Object(E.jsx)("button",{type:"submit",disabled:!u,children:Object(E.jsx)(O.a,{})})]})]})}function g(e){var t=e.message,c=t.text,a=t.uid,n=t.photoURL,i=a===P.currentUser.uid?"sent":"received";return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"message ".concat(i),children:[Object(E.jsx)("img",{src:n}),Object(E.jsx)("p",{children:c})]})})}var R=function(){var e=Object(A.a)(P),t=Object(b.a)(e,1)[0];return Object(E.jsxs)("div",{className:"App",children:[Object(E.jsxs)("header",{children:[Object(E.jsx)("h4",{children:" \u2b50 \uc18c\uc6d0\uc744 \ube4c\uc5b4\uc8fc\uc138\uc694"}),Object(E.jsx)(f,{})]}),Object(E.jsx)("section",{children:t?Object(E.jsx)(S,{}):Object(E.jsx)(T,{})})]})};c(32);r.a.render(Object(E.jsx)(n.a.StrictMode,{children:Object(E.jsx)(R,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.1a080391.chunk.js.map